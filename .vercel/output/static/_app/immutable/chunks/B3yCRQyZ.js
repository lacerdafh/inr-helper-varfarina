import{ah as j,B as y,E as ie,h as Ie,aN as je,J as oe,K as Ne,a2 as Re,aM as Te,aJ as Ce,A as Ee,C as R,au as X,aO as Oe,aP as Be,aQ as qe,aR as ee,aS as Le,u as m,as as ae,ak as Pe,Q as I,aT as Ke,aU as Ve,p as Ze,l as $e,a as Qe,b as Je,ab as le,s as w,c as g,d as ze,m as Fe,r as f,g as u,n as S,ag as He}from"./CpKiMDMZ.js";import{b as ce,c as Ue,f as A,a as D}from"./Dkvx9RK0.js";import"./CJP6SejD.js";import{e as Ye,s as T}from"./1VraXD8o.js";import{i as ne}from"./BKS4yaa3.js";import{e as H,i as U}from"./CcY9w8zd.js";import{s as Ge}from"./DYIXZQTI.js";import{i as We}from"./DIVhw5W4.js";import{p as de}from"./FNp6gcVa.js";function b(e,a,s=!1,r=!1,l=!1){var n=e,t="";j(()=>{var v=Ie;if(t===(t=a()??"")){y&&ie();return}if(v.nodes_start!==null&&(je(v.nodes_start,v.nodes_end),v.nodes_start=v.nodes_end=null),t!==""){if(y){oe.data;for(var c=ie(),i=c;c!==null&&(c.nodeType!==Ne||c.data!=="");)i=c,c=Re(c);if(c===null)throw Te(),Ce;ce(oe,i),n=Ee(c);return}var o=t+"";s?o=`<svg>${o}</svg>`:r&&(o=`<math>${o}</math>`);var d=Ue(o);if((s||r)&&(d=R(d)),ce(R(d),d.lastChild),s||r)for(;R(d);)n.before(R(d));else n.before(d)}})}const Xe=Symbol("is custom element"),ea=Symbol("is html");function ka(e){if(y){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;ve(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var l=e.checked;ve(e,"checked",null),e.checked=l}}};e.__on_r=s,X(s),Oe()}}function ve(e,a,s,r){var l=aa(e);y&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=s)&&(a==="loading"&&(e[Be]=s),e.removeAttribute(a))}function aa(e){return e.__attributes??(e.__attributes={[Xe]:e.nodeName.includes("-"),[ea]:e.namespaceURI===qe})}function xa(e,a,s=a){var r=new WeakSet;ee(e,"input",async l=>{var n=l?e.defaultValue:e.value;if(n=G(e)?W(n):n,s(n),I!==null&&r.add(I),await Le(),n!==(n=a())){var t=e.selectionStart,v=e.selectionEnd,c=e.value.length;if(e.value=n??"",v!==null){var i=e.value.length;t===v&&v===c&&i>c?(e.selectionStart=i,e.selectionEnd=i):(e.selectionStart=t,e.selectionEnd=Math.min(v,i))}}}),(y&&e.defaultValue!==e.value||m(a)==null&&e.value)&&(s(G(e)?W(e.value):e.value),I!==null&&r.add(I)),ae(()=>{var l=a();if(e===document.activeElement){var n=Ke??I;if(r.has(n))return}G(e)&&l===W(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const Y=new Set;function ba(e,a,s,r,l=r){var n=s.getAttribute("type")==="checkbox",t=e;let v=!1;if(a!==null)for(var c of a)t=t[c]??(t[c]=[]);t.push(s),ee(s,"change",()=>{var i=s.__value;n&&(i=fe(t,i,s.checked)),l(i)},()=>l(n?[]:null)),ae(()=>{var i=r();if(y&&s.defaultChecked!==s.checked){v=!0;return}n?(i=i||[],s.checked=i.includes(s.__value)):s.checked=Ve(s.__value,i)}),Pe(()=>{var i=t.indexOf(s);i!==-1&&t.splice(i,1)}),Y.has(t)||(Y.add(t),X(()=>{t.sort((i,o)=>i.compareDocumentPosition(o)===4?-1:1),Y.delete(t)})),X(()=>{if(v){var i;if(n)i=fe(t,i,s.checked);else{var o=t.find(d=>d.checked);i=o==null?void 0:o.__value}l(i)}})}function ya(e,a,s=a){ee(e,"change",r=>{var l=r?e.defaultChecked:e.checked;s(l)}),(y&&e.defaultChecked!==e.checked||m(a)==null)&&s(e.checked),ae(()=>{var r=a();e.checked=!!r})}function fe(e,a,s){for(var r=new Set,l=0;l<e.length;l+=1)e[l].checked&&r.add(e[l].__value);return s||r.delete(a),Array.from(r)}function G(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}function ra(e,a){return!!(e.idade65||e.antiagregante||e.sangPrevio||e.hasNaoControlada||e.doencaHepatica||a>4||e.quedas||e.outros)}function M(e,a,s){const r=(a+s)/2;return{faixa:[a,s],sugestoes:[{percent:a,dts:Math.round(e*(1+a/100)*10)/10},{percent:r,dts:Math.round(e*(1+r/100)*10)/10},{percent:s,dts:Math.round(e*(1+s/100)*10)/10}]}}function pa(e){const{alvoMin:a,alvoMax:s,inr:r,sangramento:l,risco:n,dtsAtual:t,alteracaoIsolada:v}=e;if(v&&(r<a||r>s))return{conduta:"Repetir exame para confirma√ß√£o sem mudar a dose (altera√ß√£o isolada ap√≥s per√≠odo est√°vel)",followup:"3-7 dias",justificativa:"Altera√ß√£o isolada do INR ap√≥s per√≠odo est√°vel requer confirma√ß√£o antes de ajustar a dose.",alertaConfirmacao:!0};if(l==="risco_morte")return{conduta:"EMERG√äNCIA: Suspender varfarina imediatamente",vitaminaK:{via:"EV",doseMg:10,observacao:"Infus√£o lenta (30 min) + CCP 30-50 UI/kg IV ou PFC 15 ml/kg IV"},suspenderDoses:-1,followup:"6-8 horas (repetir INR)",emergencia:!0,justificativa:"Sangramento com risco de morte requer revers√£o urgente com vitamina K EV + concentrado de complexo protromb√≠nico."};if(r>9)return l==="nenhum"?{conduta:"Omitir varfarina. Reiniciar com dose menor quando INR < 5.0",vitaminaK:{via:"VO",doseMg:5,observacao:"Repetir Vitamina K se necess√°rio"},suspenderDoses:-1,followup:"24 horas",emergencia:!0,justificativa:"INR > 9.0 requer omiss√£o da varfarina e vitamina K para revers√£o. Monitoramento rigoroso."}:{conduta:"EMERG√äNCIA: Encaminhar imediatamente √† emerg√™ncia",followup:"Imediato",emergencia:!0,justificativa:"INR > 9.0 com sangramento requer atendimento de emerg√™ncia urgente."};const c=ra(n,r);return r>=5&&r<=9?c?{conduta:"Omitir 1-2 doses de varfarina",vitaminaK:{via:"VO",doseMg:2,observacao:"Opcional, considerar devido aos fatores de risco"},suspenderDoses:2,followup:"24-48 horas",justificativa:"INR 5.0-9.0 com fatores de risco requer omiss√£o de doses e considera√ß√£o de vitamina K oral.",...t&&{ajusteDTS:M(t,-20,-10)}}:{conduta:"Omitir 1-2 doses",suspenderDoses:2,followup:"2-3 dias",justificativa:"INR 5.0-9.0 sem risco significativo requer apenas omiss√£o de doses tempor√°ria.",...t&&{ajusteDTS:M(t,-20,-10)}}:r>=4.1&&r<=4.9&&l==="nenhum"?{conduta:"Suspender 1-2 doses e diminuir DTS",suspenderDoses:2,followup:"2-3 dias",justificativa:"INR 4.1-4.9 sem sangramento requer suspens√£o tempor√°ria e redu√ß√£o da DTS.",...t&&{ajusteDTS:M(t,-20,-10)}}:r>=3.6&&r<=4&&l==="nenhum"?{conduta:"Reduzir DTS",followup:"1-2 semanas",justificativa:"INR 3.6-4.0 requer redu√ß√£o da dose para retornar ao alvo terap√™utico.",...t&&{ajusteDTS:M(t,-15,-10)}}:r>=3.1&&r<=3.5?{conduta:"Diminuir DTS",followup:"1-2 semanas",justificativa:"INR discretamente acima do alvo requer ajuste leve de dose para baixo.",...t&&{ajusteDTS:M(t,-15,-10)}}:r>=a&&r<=s?{conduta:"Manter dose atual",followup:"4 semanas (paciente est√°vel) ou 1-2 semanas (ajuste recente)",justificativa:"INR dentro do alvo terap√™utico. Dose atual adequada."}:r<a?{conduta:"Aumentar DTS",followup:"1-2 semanas",justificativa:"INR abaixo do alvo aumenta risco de trombose. Aumentar dose para atingir faixa terap√™utica.",...t&&{ajusteDTS:M(t,10,15)}}:{conduta:"Avaliar individualmente",followup:"1 semana",justificativa:"Situa√ß√£o n√£o coberta pelos protocolos padr√£o. Avalia√ß√£o individual necess√°ria."}}function Sa(e,a=5){const s=e/7,r=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5],l=s/a,n=r.reduce((i,o)=>Math.abs(o-l)<Math.abs(i-l)?o:i),t=["Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado","Domingo"].map(i=>({label:i,fracao:n,mg:n*a})),v=t.reduce((i,o)=>i+o.mg,0),c=e-v;if(Math.abs(c)>.1){const i=a*.25,o=Math.floor(Math.abs(c)/i);for(let d=0;d<Math.min(o,7);d+=2)c>0?(t[d].fracao+=.25,t[d].mg+=i):(t[d].fracao=Math.max(0,t[d].fracao-.25),t[d].mg=Math.max(0,t[d].mg-i))}return{total:t.reduce((i,o)=>i+o.mg,0),dias:t}}function ta(e,a,s,r){const l=new Date(e,a-1,1),t=new Date(e,a,0).getDate();let v=l.getDay();v=v===0?6:v-1;const c=[];let i=1,o=[];for(let d=0;d<v;d++)o.push({dia:null,fracao:0,mg:0,isConsulta:!1});for(;i<=t;){const d=(v+i-1)%7,p=s[d],C=r&&r.getDate()===i&&r.getMonth()===a-1&&r.getFullYear()===e;o.push({dia:i,fracao:p.fracao,mg:p.mg,isConsulta:!!C}),o.length===7&&(c.push({dias:o}),o=[]),i++}if(o.length>0){for(;o.length<7;)o.push({dia:null,fracao:0,mg:0,isConsulta:!1});c.push({dias:o})}return{semanas:c}}var sa=A('<div class="text-center font-semibold text-gray-600 text-sm"> </div>'),ia=A('<div class="text-xs text-green-600 font-bold mt-1">‚úì Consulta</div>'),oa=A('<div class="text-xs font-semibold text-gray-700 mb-1"> </div> <div class="flex items-center justify-center"><!></div> <div class="text-xs text-gray-500 mt-1"> </div> <!>',1),la=A("<div><!></div>"),ca=A('<div class="grid grid-cols-7 gap-2"></div>'),na=A('<div class="bg-white p-6 rounded-lg border-2 border-gray-300"><h3 class="text-center font-bold text-xl text-gray-800 mb-4"> </h3> <div class="grid grid-cols-7 gap-2 mb-2"></div> <div class="space-y-2"></div> <div class="mt-6 p-4 bg-gray-50 rounded-lg"><h4 class="font-semibold text-sm text-gray-700 mb-3">Legenda:</h4> <div class="grid grid-cols-4 gap-3 text-xs"><div class="flex items-center gap-2"><!> <span>1/4</span></div> <div class="flex items-center gap-2"><!> <span>1/2</span></div> <div class="flex items-center gap-2"><!> <span>3/4</span></div> <div class="flex items-center gap-2"><!> <span>1</span></div> <div class="flex items-center gap-2"><!> <span>1 1/2</span></div> <div class="flex items-center gap-2"><!> <span>2</span></div></div></div> <button type="button" class="btn-secondary w-full mt-4 svelte-x5wm88">üñ®Ô∏è Imprimir Calend√°rio</button></div>');function Da(e,a){Ze(a,!1);const s=Fe();let r=de(a,"distribuicao",8),l=de(a,"dataConsulta",8,void 0);const n=new Date,t=n.getMonth()+1,v=n.getFullYear(),c=["Seg","Ter","Qua","Qui","Sex","S√°b","Dom"],i=["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function o(h){if(h===0)return"";const k='<circle cx="16" cy="16" r="14" fill="#60a5fa" stroke="#2563eb" stroke-width="2"/>';return h===.25?`<svg viewBox="0 0 32 32" class="w-8 h-8">
        ${k}
        <line x1="16" y1="2" x2="16" y2="30" stroke="white" stroke-width="2"/>
        <line x1="2" y1="16" x2="30" y2="16" stroke="white" stroke-width="2"/>
        <path d="M 16 16 L 16 2 A 14 14 0 0 1 30 16 Z" fill="white" opacity="0.7"/>
      </svg>`:h===.5?`<svg viewBox="0 0 32 32" class="w-8 h-8">
        ${k}
        <line x1="16" y1="2" x2="16" y2="30" stroke="white" stroke-width="2"/>
        <path d="M 16 2 A 14 14 0 0 1 16 30 Z" fill="white" opacity="0.7"/>
      </svg>`:h===.75?`<svg viewBox="0 0 32 32" class="w-8 h-8">
        ${k}
        <line x1="16" y1="2" x2="16" y2="30" stroke="white" stroke-width="2"/>
        <line x1="2" y1="16" x2="30" y2="16" stroke="white" stroke-width="2"/>
        <path d="M 16 16 L 30 16 A 14 14 0 0 1 16 30 Z" fill="white" opacity="0.7"/>
      </svg>`:h===1?`<svg viewBox="0 0 32 32" class="w-8 h-8">
        ${k}
      </svg>`:h===1.25?`<svg viewBox="0 0 32 32" class="w-10 h-8">
        <circle cx="10" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="22" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="22" y1="8" x2="22" y2="24" stroke="white" stroke-width="1.5"/>
        <line x1="14" y1="16" x2="30" y2="16" stroke="white" stroke-width="1.5"/>
        <path d="M 22 16 L 22 8 A 8 8 0 0 1 30 16 Z" fill="white" opacity="0.7"/>
      </svg>`:h===1.5?`<svg viewBox="0 0 32 32" class="w-10 h-8">
        <circle cx="10" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="22" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="22" y1="8" x2="22" y2="24" stroke="white" stroke-width="1.5"/>
        <path d="M 22 8 A 8 8 0 0 1 22 24 Z" fill="white" opacity="0.7"/>
      </svg>`:h===1.75?`<svg viewBox="0 0 32 32" class="w-10 h-8">
        <circle cx="10" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="22" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="22" y1="8" x2="22" y2="24" stroke="white" stroke-width="1.5"/>
        <line x1="14" y1="16" x2="30" y2="16" stroke="white" stroke-width="1.5"/>
        <path d="M 22 16 L 30 16 A 8 8 0 0 1 22 24 Z" fill="white" opacity="0.7"/>
      </svg>`:h===2?`<svg viewBox="0 0 32 32" class="w-10 h-8">
        <circle cx="10" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="22" cy="16" r="8" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
      </svg>`:h===2.25?`<svg viewBox="0 0 40 32" class="w-12 h-8">
        <circle cx="8" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="20" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="32" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="32" y1="10" x2="32" y2="22" stroke="white" stroke-width="1.5"/>
        <line x1="26" y1="16" x2="38" y2="16" stroke="white" stroke-width="1.5"/>
        <path d="M 32 16 L 32 10 A 6 6 0 0 1 38 16 Z" fill="white" opacity="0.7"/>
      </svg>`:h===2.5?`<svg viewBox="0 0 40 32" class="w-12 h-8">
        <circle cx="8" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="20" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <circle cx="32" cy="16" r="6" fill="#60a5fa" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="32" y1="10" x2="32" y2="22" stroke="white" stroke-width="1.5"/>
        <path d="M 32 10 A 6 6 0 0 1 32 22 Z" fill="white" opacity="0.7"/>
      </svg>`:`<svg viewBox="0 0 32 32" class="w-8 h-8">
      ${k}
      <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">${h}</text>
    </svg>`}$e(()=>(le(r()),le(l())),()=>{ze(s,ta(v,t,r().dias,l()))}),Qe(),We();var d=na(),p=g(d),C=g(p);f(p);var E=w(p,2);H(E,5,()=>c,U,(h,k)=>{var x=sa(),Z=g(x,!0);f(x),j(()=>T(Z,u(k))),D(h,x)}),f(E);var O=w(E,2);H(O,5,()=>(u(s),m(()=>u(s).semanas)),U,(h,k)=>{var x=ca();H(x,5,()=>(u(k),m(()=>u(k).dias)),U,(Z,_)=>{var N=la(),xe=g(N);{var be=$=>{var se=oa(),Q=He(se),ye=g(Q,!0);f(Q);var J=w(Q,2),pe=g(J);b(pe,()=>(u(_),m(()=>o(u(_).fracao)))),f(J);var z=w(J,2),Se=g(z,!0);f(z);var De=w(z,2);{var Me=F=>{var Ae=ia();D(F,Ae)};ne(De,F=>{u(_),m(()=>u(_).isConsulta)&&F(Me)})}j(()=>{T(ye,(u(_),m(()=>u(_).dia))),T(Se,(u(_),m(()=>u(_).fracao)))}),D($,se)};ne(xe,$=>{u(_),m(()=>u(_).dia)&&$(be)})}f(N),j(()=>Ge(N,1,`aspect-square border rounded-lg flex flex-col items-center justify-center p-1 ${u(_),m(()=>u(_).isConsulta?"border-green-500 bg-green-50 border-2":u(_).dia?"border-gray-300 bg-gray-50":"border-transparent")??""}`)),D(Z,N)}),f(x),D(h,x)}),f(O);var B=w(O,2),re=w(g(B),2),q=g(re),ue=g(q);b(ue,()=>m(()=>o(.25))),S(2),f(q);var L=w(q,2),me=g(L);b(me,()=>m(()=>o(.5))),S(2),f(L);var P=w(L,2),he=g(P);b(he,()=>m(()=>o(.75))),S(2),f(P);var K=w(P,2),ge=g(K);b(ge,()=>m(()=>o(1))),S(2),f(K);var V=w(K,2),_e=g(V);b(_e,()=>m(()=>o(1.5))),S(2),f(V);var te=w(V,2),we=g(te);b(we,()=>m(()=>o(2))),S(2),f(te),f(re),f(B);var ke=w(B,2);f(d),j(()=>T(C,`${m(()=>i[t-1])??""} de ${v??""}`)),Ye("click",ke,()=>window.print()),D(e,d),Je()}export{Da as C,ba as a,xa as b,ya as c,Sa as d,pa as e,ka as r};
