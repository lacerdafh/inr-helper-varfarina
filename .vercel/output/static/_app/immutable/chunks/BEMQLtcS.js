import{w as s}from"./DT2_Hpur.js";function c(){const{subscribe:i,set:n,update:o}=s([]);if(typeof window<"u"){const e=localStorage.getItem("inr_consultas");if(e)try{const r=JSON.parse(e).map(a=>({...a,data:new Date(a.data)}));n(r)}catch(t){console.error("Erro ao carregar consultas:",t)}}return{subscribe:i,adicionar:e=>{const t={...e,id:crypto.randomUUID(),data:new Date};return o(r=>{const a=[t,...r];return typeof window<"u"&&localStorage.setItem("inr_consultas",JSON.stringify(a)),a}),t},remover:e=>{o(t=>{const r=t.filter(a=>a.id!==e);return typeof window<"u"&&localStorage.setItem("inr_consultas",JSON.stringify(r)),r})},limpar:()=>{n([]),typeof window<"u"&&localStorage.removeItem("inr_consultas")}}}function d(){const i={alvoMin:2,alvoMax:3,mgComprimido:5},{subscribe:n,set:o}=s(i);if(typeof window<"u"){const e=localStorage.getItem("inr_perfil");if(e)try{o(JSON.parse(e))}catch(t){console.error("Erro ao carregar perfil:",t)}}return{subscribe:n,atualizar:e=>{update(t=>{const r={...t,...e};return typeof window<"u"&&localStorage.setItem("inr_perfil",JSON.stringify(r)),r})},resetar:()=>{o(i),typeof window<"u"&&localStorage.removeItem("inr_perfil")}}}function f(){const{subscribe:i,set:n}=s("paciente");return typeof window<"u"&&localStorage.getItem("inr_modo")==="profissional"&&n("profissional"),{subscribe:i,toggle:()=>{update(o=>{const e=o==="paciente"?"profissional":"paciente";return typeof window<"u"&&localStorage.setItem("inr_modo",e),e})},set:o=>{n(o),typeof window<"u"&&localStorage.setItem("inr_modo",o)}}}const u=c(),p=d(),m=f();export{u as c,m,p};
